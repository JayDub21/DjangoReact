(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{58:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(20),r=n.n(c),o=n(26),i=n(27),l=n(28),d=n(30),j=(n(58),n(53)),u=n(5),b=n(8),h=n(22),m=n(50),O=n(18),p="CREATE_USER_SUBMITTED",x="CREATE_USER_SUCCESS",f="CREATE_USER_ERROR",g="SET_TOKEN",v="SET_CURRENT_USER",N="UNSET_CURRENT_USER",y={usernameError:"",passwordError:"",isSubimtted:!1},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return{usernameError:"",passwordError:"",isSubimtted:!0};case f:var n={usernameError:"",passwordError:"",isSubimtted:!1};return t.errorData.hasOwnProperty("username")&&(n.usernameError=t.errorData.username),t.errorData.hasOwnProperty("password")&&(n.passwordError=t.errorData.password),n;case x:return{usernameError:"",passwordError:"",isSubimtted:!1};default:return e}},S=n(7),E={isAuthenticated:!1,user:{},token:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(S.a)(Object(S.a)({},e),{},{isAuthenticated:!0,token:t.payload});case v:return Object(S.a)(Object(S.a)({},e),{},{user:t.payload});case N:return E;default:return e}},k=function(e){return Object(h.b)({router:Object(O.b)(e),createUser:w,auth:C})},A=n(15),U=n.n(A),R=n(6),P=n(12),T=function(e){"undefined"!==typeof e&&e?U.a.defaults.headers.common.Authorization="Token "+e:delete U.a.defaults.headers.common.Authorization},F=function(e){e.response?P.toast.error(JSON.stringify(e.response.data)):e.message?P.toast.error(JSON.stringify(e.message)):P.toast.error(JSON.stringify(e))},_=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},D=function(e){return function(t){U.a.get("/api/v1/users/me/").then((function(n){var s={username:n.data.username,email:n.data.email};t(I(s,e))})).catch((function(e){t(L()),F(e)}))}},I=function(e,t){return function(n){localStorage.setItem("user",JSON.stringify(e)),n({type:v,payload:e}),console.log("set user"+t),""!==t&&(n(Object(R.d)(t)),console.log("redirectTo: ",t))}},J=function(e){return function(t){T(e),localStorage.setItem("token",e),t({type:g,payload:e})}},L=function(){return function(e){T(""),localStorage.removeItem("token"),localStorage.removeItem("user"),e({type:N})}},q=n(0),M=function(e){var t=e.children,n=e.initialState,s=void 0===n?{}:n,a=Object(b.a)(),c=[j.a,Object(m.a)(a)],r=Object(h.c)(k(a),s,h.a.apply(void 0,c));if(_(localStorage.getItem("token"))||r.dispatch(J(localStorage.getItem("token"))),!_(localStorage.getItem("user"))){var o=JSON.parse(localStorage.getItem("user"));r.dispatch(I(o,""))}return Object(q.jsx)(u.a,{store:r,children:Object(q.jsx)(O.a,{history:a,children:t})})},B=n(4);function z(e){var t=function(t){Object(l.a)(s,t);var n=Object(d.a)(s);function s(e){var t;return Object(o.a)(this,s),(t=n.call(this,e)).checkAuth(),t}return Object(i.a)(s,[{key:"componentDidUpdate",value:function(e,t){this.checkAuth()}},{key:"checkAuth",value:function(){if(!this.props.isAuthenticated){var e=this.props.location.pathname;this.props.dispatch(Object(R.d)("/login?next=".concat(e)))}}},{key:"render",value:function(){return Object(q.jsx)("div",{children:!0===this.props.isAuthenticated?Object(q.jsx)(e,Object(S.a)({},this.props)):null})}}]),s}(a.a.Component);return Object(u.c)((function(e){return{isAuthenticated:e.auth.isAuthenticated,token:e.auth.token}}))(t)}var H=function(){return Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("h1",{children:"404 Not Found"}),Object(q.jsx)("p",{children:"The link you requested does not exist on this website."})]})},K=n(17),G=n(9),Q=Object(u.c)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){U.a.post("/api/v1/token/logout/").then((function(t){e(L()),e(Object(R.d)("/")),P.toast.success("Logout successful.")})).catch((function(t){e(L()),F(t)}))}}})(Object(B.g)((function(e){var t=e.logout,n=e.auth,a=Object(s.useState)(!1),c=Object(K.a)(a,2),r=c[0],o=c[1],i=function(){t(),o(!0)};return Object(q.jsxs)(s.Fragment,{children:[Object(q.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(q.jsxs)("div",{className:"container-fluid",children:[Object(q.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(q.jsx)("span",{className:"navbar-toggler-icon"})}),Object(q.jsxs)("div",{className:"collapse navbar-collapse",children:[Object(q.jsx)("h1",{children:"DjangoReact"}),Object(q.jsx)("ul",{className:"navbar-nav ms-auto",id:"navItems",children:n.isAuthenticated?Object(q.jsxs)(s.Fragment,{children:[Object(q.jsx)("li",{className:"nav-item m-1",children:Object(q.jsx)(G.a,{className:"nav-link",to:"/dashboard",children:"Dashboard"})}),Object(q.jsx)("li",{className:"nav-item m-1",children:Object(q.jsx)(G.a,{className:"nav-link",to:"/login",onClick:i,children:"Logout"})})]}):Object(q.jsx)(s.Fragment,{children:Object(q.jsx)("li",{className:"nav-item m-1",children:Object(q.jsx)(G.a,{className:"nav-link",to:"/login",children:"Login"})})})})]})]})}),r?Object(q.jsx)(B.a,{to:"/"}):Object(q.jsx)(s.Fragment,{})]})}))),V=Object(u.c)(null,{getCurrentUser:D})((function(e){var t=e.getCurrentUser,n=e.children;return Object(s.useEffect)((function(){t()}),[t]),Object(q.jsxs)("div",{children:[Object(q.jsx)(Q,{}),n]})})),W=function(){return Object(q.jsx)("div",{className:"container-fluid outerMargin",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-5",children:[Object(q.jsx)("h2",{children:"Home"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("div",{className:"col-12",children:[Object(q.jsx)(G.a,{className:"btn btn-primary m-1",to:"/login",children:"Login"}),Object(q.jsx)(G.a,{className:"btn btn-success",to:"/signup",children:"SignUp"})]})]})})})},X=n(19),Y=Object(u.c)((function(e){return{createUser:e.createUser}}),{signup:function(e){return function(t){t({type:p}),U.a.post("/api/v1/users/",e).then((function(n){P.toast.success("Account for "+e.username+" created successfully. Please login."),t({type:x})})).catch((function(e){e.resposne?(P.toast.error(JSON.stringify(e.response.data)),t({type:f,errorData:e.response.data})):e.message?P.toast.error(JSON.stringify(e.message)):P.toast.error(JSON.stringify(e))}))}}})(Object(B.g)((function(e){var t=e.signup,n=e.isAuthenticated,a=Object(s.useState)(!1),c=Object(K.a)(a,2),r=c[0],o=c[1],i=Object(s.useState)({username:"",password:"",re_password:""}),l=Object(K.a)(i,2),d=l[0],j=l[1],u=d.username,b=d.password,h=d.re_password,m=function(e){return j(Object(S.a)(Object(S.a)({},d),{},Object(X.a)({},e.target.name,e.target.value)))};return n?Object(q.jsx)(B.a,{to:"/"}):r?Object(q.jsx)(B.a,{to:"/login"}):Object(q.jsxs)("div",{className:"container-fluid",id:"acctAppForm",children:[Object(q.jsx)("br",{}),Object(q.jsx)("h2",{children:"Signup:"}),Object(q.jsx)("hr",{}),Object(q.jsx)("br",{}),Object(q.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),b===h?(t(u,b),console.log(t),o(!0)):alert("Passwords Must Match")}(e)},children:[Object(q.jsx)("div",{className:"row g-2",children:Object(q.jsx)("div",{className:"col-md-6",children:Object(q.jsxs)("div",{className:"form-floating mb-3",children:[Object(q.jsx)("input",{type:"text",className:"form-control",placeholder:"Username*",name:"username",value:u,onChange:function(e){return m(e)},required:!0}),Object(q.jsx)("label",{htmlFor:"floatingUsername",children:"Username"})]})})}),Object(q.jsx)("div",{className:"row g-2",children:Object(q.jsx)("div",{className:"col-md-6",children:Object(q.jsxs)("div",{className:"form-floating mb-3",children:[Object(q.jsx)("input",{className:"form-control",type:"password",id:"floatingPassword",placeholder:"Password",name:"password",value:b,onChange:function(e){return m(e)},required:!0}),Object(q.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]})})}),Object(q.jsx)("div",{className:"row g-2",children:Object(q.jsx)("div",{className:"col-md-6",children:Object(q.jsxs)("div",{className:"form-floating mb-3",children:[Object(q.jsx)("input",{className:"form-control",type:"password",id:"floatingRePassword",placeholder:"Confirm Password",name:"re_password",value:h,onChange:function(e){return m(e)},required:!0}),Object(q.jsx)("label",{htmlFor:"floatingRePassword",children:"Confirm Password"})]})})}),Object(q.jsx)("br",{}),Object(q.jsx)("div",{className:"col-12",children:Object(q.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit Application"})})]}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("div",{className:"row g-2 justify-content-center",children:Object(q.jsx)("div",{className:"col-sm-7",children:Object(q.jsxs)("div",{className:"card",children:[Object(q.jsx)("div",{className:"card-header text-white text-center",id:"passwordRequirements",children:Object(q.jsx)("h5",{children:"Password Requirements:"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("p",{className:"card-text",children:Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:"Must contain at least 9 characters (uppercase, lowercase, number and special character)"}),Object(q.jsx)("li",{children:"Cannot contain any portion of the account holder\u2019s:"}),Object(q.jsxs)("ul",{children:[Object(q.jsx)("li",{children:"Name"}),Object(q.jsx)("li",{children:"Email Address"})]}),Object(q.jsx)("li",{children:'Cannot be a "common" password'}),Object(q.jsx)("li",{children:"Cannot be only numbers"})]})})})]})})}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{})]})}))),Z=Object(u.c)((function(e){return{auth:e.auth}}),{login:function(e,t){return function(n){U.a.post("/api/v1/token/login/",e).then((function(e){var s=e.data.auth_token;T(s),n(J(s)),n(D(t))})).catch((function(e){n(L()),F(e)})),console.log("userData: ",e)}}})(Object(B.g)((function(e){var t=e.login,n=Object(s.useState)({username:"",password:""}),a=Object(K.a)(n,2),c=a[0],r=a[1],o=c.username,i=c.password,l=function(e){return r(Object(S.a)(Object(S.a)({},c),{},Object(X.a)({},e.target.name,e.target.value)))};return Object(q.jsx)("div",{className:"container-fluid outerMargin",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsxs)("div",{className:"col-md-5",children:[Object(q.jsx)("h2",{children:"Login"}),Object(q.jsx)("hr",{}),Object(q.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(c,"/dashboard"),console.log("userData: ",c)}(e)},children:[Object(q.jsxs)("div",{className:"form-floating mb-3",children:[Object(q.jsx)("input",{type:"username",className:"form-control",placeholder:"username",id:"floatingusername",name:"username",value:o,onChange:function(e){return l(e)},required:!0}),Object(q.jsx)("label",{htmlFor:"floatingInput",children:"username"})]}),Object(q.jsxs)("div",{className:"form-floating mb-3",children:[Object(q.jsx)("input",{type:"password",className:"form-control",placeholder:"password",id:"floatingPassword",name:"password",value:i,onChange:function(e){return l(e)},required:!0}),Object(q.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(q.jsxs)("div",{className:"col-12",children:[Object(q.jsx)("button",{type:"submit",className:"btn btn-success m-1",children:"Login"}),Object(q.jsx)(G.a,{className:"btn btn-primary",to:"/signup",children:"Create Account"})]})]})]})})})}))),$=Object(u.c)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}))((function(e){var t=e.isAuthenticated,n=e.user;return t?Object(q.jsxs)("div",{className:"contaner-fluid",id:"dashboardContainer",children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{classname:"col-sm-2"}),Object(q.jsx)("div",{className:"col-md-8",id:"myAccount",children:Object(q.jsxs)("div",{className:"card text-center text-white",id:"accountCard",children:[Object(q.jsx)("div",{className:"card-header",id:"accountHeader",children:Object(q.jsx)("h4",{className:"card-title",children:"My Account Information"})}),Object(q.jsx)("div",{className:"card-body",children:Object(q.jsx)("table",{className:"table table-sm",children:Object(q.jsxs)("tbody",{children:[Object(q.jsxs)("tr",{className:"h5",children:[Object(q.jsx)("th",{className:"pt-2 pb-3 pl-1",children:"User"}),Object(q.jsx)("th",{className:"pt-2 pb-3 pl-1",children:"Email"})]}),Object(q.jsxs)("tr",{className:"h6",children:[Object(q.jsx)("td",{className:"pt-3 pb-3 pl-1",children:null===n||void 0===n?void 0:n.username}),Object(q.jsx)("td",{className:"pt-3 pb-3 pl-1",children:null===n||void 0===n?void 0:n.email})]})]})})})]})}),Object(q.jsx)("div",{classname:"col-sm-2"})]})]}):Object(q.jsx)(B.a,{to:"/login"})}));U.a.defaults.baseURL="http://127.0.0.1:8000";var ee=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsxs)(M,{children:[Object(q.jsx)(P.ToastContainer,{position:"bottom-center"}),Object(q.jsx)(V,{children:Object(q.jsxs)(B.d,{children:[Object(q.jsx)(B.b,{path:"/signup",component:Y}),Object(q.jsx)(B.b,{path:"/login",component:Z}),Object(q.jsx)(B.b,{path:"/dashboard",component:z($)}),Object(q.jsx)(B.b,{exact:!0,path:"/",component:W}),Object(q.jsx)(B.b,{component:H})]})})]})})}}]),n}(s.Component),te=ee,ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};n(96),n(97);r.a.render(Object(q.jsx)(a.a.StrictMode,{children:Object(q.jsx)(te,{})}),document.getElementById("root")),ne()}},[[98,1,2]]]);
//# sourceMappingURL=main.a3794c6d.chunk.js.map